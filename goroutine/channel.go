package main

import (
	"fmt"
	"time"
)

func main() {
	/*
		–ö–∞–Ω–∞–ª ‚Äî —ç—Ç–æ –∫–∞–∫ —è—â–∏–∫, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –¥—Ä—É–≥—É—é.
		–ù–æ —ç—Ç–æ—Ç ‚Äú—è—â–∏–∫‚Äù –º–æ–∂–µ—Ç –±—ã—Ç—å:

		üîí –ù–µ–±—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º (make(chan string))
			‚Ä¢	–û–Ω –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è.
			‚Ä¢	–û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—å) –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã.
			‚Ä¢	–ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª–æ–∂–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ –≥–æ—Ç–æ–≤ –µ–≥–æ –≤–∑—è—Ç—å ‚Äî –æ–Ω –∂–¥—ë—Ç.

		üì• –ë—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º (make(chan string, 1))
			‚Ä¢	–û–Ω –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1 –∏–ª–∏ –±–æ–ª—å—à–µ).
			‚Ä¢	–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ª–æ–∂–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –µ—â—ë –Ω–µ—Ç ‚Äî –µ—Å–ª–∏ –≤ –±—É—Ñ–µ—Ä–µ –µ—Å—Ç—å –º–µ—Å—Ç–æ.
	*/

	//1) —Å–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª
	/*
		channel := make(chan string, 1)
		(–Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏–π, –≤—Ç–æ—Ä—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤))
	*/

	//2) –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
	/*
		channel <- "HI FROM SENDMESSAGE"
	*/

	//3) –ø–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
	/*
		1) —á—Ç–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:
		message := <-channel

		–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –º–æ–∂–Ω–æ —Ç–∞–∫:

		v, ok := <-ch
		(–µ—Å–ª–∏ –∫–∞–Ω–∞–ª –ø—É—Å—Ç - v = nil, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç - ok = false)


		2) —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π:
		for v := range channel {
			fmt.Println(v)
		}

		range —á–∏—Ç–∞–µ—Ç –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–∞ –∏ –∂–¥–µ—Ç –Ω–æ–≤—ã—Ö, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –µ—â–µ –Ω–µ –∑–∞–∫—Ä—ã—Ç. –¶–∏–∫–ª –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, —Ç–æ–ª—å–∫–æ
		–∫–æ–≥–¥–∞ –∫–∞–Ω–∞–ª –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—É—Å—Ç–æ—à–µ–Ω. –ü–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å close(channel).
	*/

	//4) –∑–∞–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ (—á–∏—Ç–∞—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±—É–¥–µ—Ç –º–æ–∂–Ω–æ). –ó–∞–∫—Ä—ã—Ç–∏–µ –∫–∞–Ω–∞–ª –Ω–µ –æ—á–∏—â–∞–µ—Ç.
	/*
		close(channel)
	*/

	//5) cap() –∏ len()
	/*
		–ö–∞–∂–¥—ã–π –∫–∞–Ω–∞–ª —Ç–∞–∫–∂–µ –∏–º–µ–µ—Ç –¥–≤–∞ —Å–≤–æ–π—Å—Ç–≤–∞: –¥–ª–∏–Ω—É –∏ —ë–º–∫–æ—Å—Ç—å. –î–ª–∏–Ω–∞ –∫–∞–Ω–∞–ª–∞ ‚Äî —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ
		–≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–∞–Ω–∞–ª–µ, –∞ —ë–º–∫–æ—Å—Ç—å ‚Äî —ç—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –∫–∞–Ω–∞–ª –º–æ–∂–µ—Ç
		–≤–º–µ—â–∞—Ç—å.
	*/

	c := make(chan int, 1)      // –ö–∞–Ω–∞–ª —Å –±—É—Ñ–µ—Ä–æ–º —Ä–∞–∑–º–µ—Ä–æ–º 1
	fmt.Println(len(c), cap(c)) // 0 1
	c <- 1
	fmt.Println(len(c), cap(c)) // 1 1
	close(c)

	fmt.Println("---------------------------------------------------------------------------------------------------")

	//6) –ø—Ä–∏–º–µ—Ä

	channel := make(chan string, 10)
	channel <- "HI FROM SENDMESSAGE"

	fmt.Println(<-channel) //HI FROM SENDMESSAGE

	/*
		–¢–∞–∫–æ–π –∫–æ–¥ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ:

		1) –≤ –Ω–µ–±—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ
		2) —Ç–∞–∫ –∫–∞–∫ –±—É—Ñ–µ—Ä–∞ –Ω–µ—Ç, —Ç–æ –æ–Ω –∂–¥–µ—Ç –ø–æ–∫–∞ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫—Ç–æ-—Ç–æ –¥–æ—Å—Ç–∞–Ω–µ—Ç
		3) –∫–æ–¥ –Ω–µ –º–æ–∂–µ—Ç –¥–æ–π—Ç–∏ –¥–æ —Å—Ç—Ä–æ–∫–∏ —á—Ç–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–∞, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–µ–¥—ã–¥—É—â–∞—è (–æ–∂–∏–¥–∞–Ω–∏–µ —á—Ç–µ–Ω–∏—è)
		–µ—â–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å
		4) –≤–∑–∞–∏–º–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ - deadlock (–æ—à–∏–±–∫–∞).

		channel := make(chan string)
		channel <- "HI FROM SENDMESSAGE"

		fmt.Print(<-channel)
	*/

	channel <- "ONE"
	channel <- "TWO"
	channel <- "THREE"
	channel <- "FOUR"
	channel <- "FIVE"

	close(channel)

	for v := range channel {
		fmt.Println(v)
	}

	/*
		+---------------------------+------------------------------+-----------------------------------------+
		|                           | –ë—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª       | –ö–∞–Ω–∞–ª –±–µ–∑ –±—É—Ñ–µ—Ä–∞                        |
		+---------------------------+------------------------------+-----------------------------------------+
		| –¶–µ–ª—å                      | –ß—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å         | –ß—Ç–æ–±—ã –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å                       |
		|                           | –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è     | (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å) –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∏        |
		|                           |                              | –ø–æ–ª—É—á–∞—Ç–µ–ª—è                              |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å        | –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å | –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É  |
		|                           | —Ä–∞–±–æ—Ç—É –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å          | –±–µ–∑ –ø–æ–ª—É—á–∞—Ç–µ–ª—è                          |
		|                           | –ø–æ–ª—É—á–∞—Ç–µ–ª—è                   |                                         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ï—Å–ª–∏ –±—É—Ñ–µ—Ä                | –ï—Å–ª–∏ –±—É—Ñ–µ—Ä, —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å      | –í–∞–∂–Ω–æ, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π        |
		| —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å               | –ø—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å       | –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ                  |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ë–ª–æ–∫–∏—Ä—É—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ     | –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –±—É—Ñ–µ—Ä –ø–æ–ª–æ–Ω| –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å, –ø–æ–∫–∞           |
		|                           |                              | –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –Ω–µ –≥–æ—Ç–æ–≤ –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å        | –ú–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å              | –í–æ–∑–º–æ–∂–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –∏–∑-–∑–∞                 |
		|                           | –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞ —Å—á—ë—Ç   | —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏                           |
		|                           | —É–º–µ–Ω—å—à–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏     |                                         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è     | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º   | –ü–µ—Ä–µ–¥–∞—á–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏      |
		|                           | —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏           |                                         |
		|                           | –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, –∫–æ–≥–¥–∞    | –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫            |
		|                           | —Å–æ–æ–±—â–µ–Ω–∏—è —Å—Ç–∞–≤—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å |                                         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –°–ª–æ–∂–Ω–æ—Å—Ç—å                 | –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ–π         | –í—Å—ë –ø—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ                    |
		|                           | –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É—Ñ–µ—Ä–∞ –∏–∑-–∑–∞       |                                         |
		|                           | –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è                 |                                         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã         | –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–æ–ø. –ø–∞–º—è—Ç—å –Ω–∞    | –î–æ–ø. –ø–∞–º—è—Ç—å –Ω–µ –Ω—É–∂–Ω–∞                    |
		|                           | –±—É—Ñ–µ—Ä                        |                                         |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ú–æ–¥–µ–ª—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏     | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ   | –°—Ç—Ä–æ–≥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ            |
		+---------------------------+------------------------------+-----------------------------------------+
		| –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏       | –î–µ–¥–ª–æ–∫ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏      | –î–µ–¥–ª–æ–∫ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏                   |
		|                           |                              | –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è/–ø–æ–ª—É—á–∞—Ç–µ–ª—è                  |
		+---------------------------+------------------------------+-----------------------------------------+
	*/

	fmt.Println("---------------------------------------------------------------------------------------------------")

	sender := func(ch chan string, done chan bool) {
		for i := 1; i <= 3; i++ {
			ch <- fmt.Sprintf("message %d", i)
			time.Sleep(100 * time.Millisecond)
		}
		close(ch) // –ó–∞–∫—Ä—ã–≤–∞–µ–º –∫–∞–Ω–∞–ª –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
		done <- true
	}

	receiver := func(ch chan string, done chan bool) {
		// range –ø–æ–∑–≤–æ–ª—è–µ—Ç —á–∏—Ç–∞—Ç—å –∫–∞–Ω–∞–ª –ø–æ–∫–∞ –æ–Ω –Ω–µ –∑–∞–∫—Ä–æ–µ—Ç—Å—è(–≥–ª–∞–≤–Ω–æ–µ –µ–≥–æ –∑–∞–∫—Ä—ã—Ç—å)
		for msg := range ch {
			fmt.Println("Received:", msg)
		}
		done <- true
	}

	ch := make(chan string)
	senderDone := make(chan bool)
	receiverDone := make(chan bool)

	go sender(ch, senderDone)
	go receiver(ch, receiverDone)

	// –±–ª–æ–∫–∏—Ä—É–µ–º—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞ –Ω–µ –æ—Ç—Ä–∞–±–æ—Ç–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏–∏
	<-senderDone
	<-receiverDone

	fmt.Println("All operations completed!")

	/*
		–ó–∞–ø—É—Å–∫(t=0ms)
		main –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç 3 –∫–∞–Ω–∞–ª–∞

		ch - –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π

		senderDone - —Å–∏–≥–Ω–∞–ª –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

		receiverDone - —Å–∏–≥–Ω–∞–ª –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

		main –∑–∞–ø—É—Å–∫–∞–µ—Ç 2 –≥–æ—Ä—É—Ç–∏–Ω—ã

		sender

		receiver

		–ú–∞–∏–Ω –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∏ –∂–¥–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–≤ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

		–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (t=1ms)
		sender –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "message 1" –≤ –∫–∞–Ω–∞–ª ch.

		receiver –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:

		–í—ã–≤–æ–¥–∏—Ç: "Received: message 1".

		–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –∑–∞—Å—ã–ø–∞–µ—Ç –Ω–∞ 100 –º—Å.

		–í—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (t=101ms)
		sender –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "message 2" –≤ –∫–∞–Ω–∞–ª ch.

		receiver –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:

		–í—ã–≤–æ–¥–∏—Ç: "Received: message 2".

		–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å —Å–Ω–æ–≤–∞ –∑–∞—Å—ã–ø–∞–µ—Ç –Ω–∞ 100 –º—Å.

		–¢—Ä–µ—Ç—å–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (t=201ms)
		sender –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "message 3" –≤ –∫–∞–Ω–∞–ª ch.

		receiver –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:

		–í—ã–≤–æ–¥–∏—Ç: "Received: message 3".

		–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –∑–∞—Å—ã–ø–∞–µ—Ç –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑.

		–ó–∞–∫—Ä—ã—Ç–∏–µ –∫–∞–Ω–∞–ª–∞ (t=301ms)
		–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–æ–Ω –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∫–∞–Ω–∞–ª ch.

		–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª true –≤ –∫–∞–Ω–∞–ª senderDone, —É–∫–∞–∑—ã–≤–∞—è –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã.

		–ü–æ–ª—É—á–∞—Ç–µ–ª—å –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç, —á—Ç–æ –∫–∞–Ω–∞–ª ch –∑–∞–∫—Ä—ã—Ç.

		–ü–æ–ª—É—á–∞—Ç–µ–ª—å –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Ü–∏–∫–ª–∞ for-range.

		–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ (t=302-303ms)
		main –ø–æ–ª—É—á–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –æ—Ç senderDone –∏ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç –æ–∂–∏–¥–∞–Ω–∏–µ.

		main –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ —Å–∏–≥–Ω–∞–ª–∞ –æ—Ç receiverDone.

		–ü–æ–ª—É—á–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –≤ –∫–∞–Ω–∞–ª receiverDone.

		main –ø–æ–ª—É—á–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –∏ –≤—ã–≤–æ–¥–∏—Ç:

		"All operations completed!".

		–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è.
	*/

	fmt.Println("---------------------------------------------------------------------------------------------------")

	downloadFile := func(filename string, done chan bool) {
		fmt.Printf("Starting download: %s\n", filename)
		time.Sleep(2 * time.Second)
		fmt.Printf("Finished download: %s\n", filename)

		done <- true // –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–∏–≥–Ω–∞–ª –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
	}

	fmt.Println("Starting downloads...")

	startTime := time.Now()

	// —Å–æ–∑–¥–∞–µ–º –∫–∞–Ω–∞–ª –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≥–æ—Ä—É—Ç–∏–Ω
	done := make(chan bool)

	go downloadFile("file1.txt", done)
	go downloadFile("file2.txt", done)
	go downloadFile("file3.txt", done)

	// –ñ–¥–µ–º –ø–æ–∫–∞ –≤—Å–µ –≥–æ—Ä—É—Ç–∏–Ω—ã —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç –æ –∑–∞–∫—Ä—ã—Ç–∏–∏
	for i := 0; i < 3; i++ {
		<-done // –ü–æ–ª—É—á–∞–µ–º —Å–∏–≥–Ω–∞–ª –æ—Ç –∫–∞–∂–¥–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–π –≥–æ—Ä—É—Ç–∏–Ω—ã
	}

	elapsedTime := time.Since(startTime)
	fmt.Printf("All downloads completed! Time elapsed: %s\n", elapsedTime)

	fmt.Println("---------------------------------------------------------------------------------------------------")

	//select case
	/*
		- –≤—ã–±–∏—Ä–∞–µ—Ç –ª—é–±–æ–π –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö case, –≥–¥–µ –æ–ø–µ—Ä–∞—Ü–∏—è —Å –∫–∞–Ω–∞–ª–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ ‚Äî –±—É–¥—å —Ç–æ —á—Ç–µ–Ω–∏–µ –∏–ª–∏ –∑–∞–ø–∏—Å—å.
		1.	–ì–æ—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî select –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∫–∞–∫–∏–µ case –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:
			‚Ä¢	–ï—Å–ª–∏ –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–∑ –∫–∞–Ω–∞–ª–∞ (–≤ –Ω—ë–º –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ) ‚Üí —ç—Ç–æ—Ç case –≥–æ—Ç–æ–≤.
			‚Ä¢	–ï—Å–ª–∏ –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –∫–∞–Ω–∞–ª (–≤ –Ω—ë–º –∫—Ç–æ-—Ç–æ –∂–¥–µ—Ç –∏–ª–∏ –æ–Ω –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω) ‚Üí —ç—Ç–æ—Ç case –≥–æ—Ç–æ–≤.
		2.	–°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä ‚Äî –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ case –≥–æ—Ç–æ–≤—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, Go –≤—ã–±–∏—Ä–∞–µ—Ç –æ–¥–∏–Ω —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.
		3.	–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ ‚Äî –µ—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω case –Ω–µ –≥–æ—Ç–æ–≤, select –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∏ –∂–¥–µ—Ç, –ø–æ–∫–∞ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω case –Ω–µ —Å—Ç–∞–Ω–µ—Ç –≥–æ—Ç–æ–≤—ã–º.
		4.	default (–µ—Å–ª–∏ –µ—Å—Ç—å) ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –µ—Å–ª–∏ –Ω–∏–∫–∞–∫–æ–π –¥—Ä—É–≥–æ–π case –Ω–µ –≥–æ—Ç–æ–≤.

		for {
			select {
			case c <- x:
				x, y = y, x+y
			case <-quit:
				fmt.Println("quit")
				return
			}
		}

		–ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
	*/

	fibonacci := func(c, quit chan int) {
		x, y := 0, 1
		for {
			select {
			case c <- x:
				x, y = y, x+y
			case <-quit:
				fmt.Println("quit")
				return
			}
		}
	}

	chanf := make(chan int)
	quit := make(chan int)
	go func() {
		for i := 0; i < 10; i++ {
			fmt.Println(<-chanf)
		}
		quit <- 0
	}()
	fibonacci(chanf, quit)

	// 0
	// 1
	// 1
	// 2
	// 3
	// 5
	// 8
	// 13
	// 21
	// 34
	// quit

	fmt.Println("---------------------------------------------------------------------------------------------------")

}
